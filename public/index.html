<!DOCTYPE html>
<html>
<head>
	<title>Simple Simon</title>
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
	<link rel="stylesheet" type="text/css" href="css/simon.css">
</head>
<body>
	<div class="container">
        <h1><a class='bounce'>S</a><a class='bounce'>I</a><a class='bounce'>M</a><a class='bounce'>O</a><a class='bounce'>N</a> <a class='bounce'>S</a><a class='bounce'>A</a><a class='bounce'>Y</a><a class='bounce'>S</a></h1>
        <p>
            <button id="startEasy" class="start">Easy</button>
            <button id="startMedium" class="start">Medium</button>
            <button id="startHard" class="start">Hard</button>
            <button id="startImpossible" class="start">Just why?!</button><br>
            <input type="text" id="round" class="whatRound" readonly="">
        </p>
	    <div id="rotateThis" class="board rotated">
	        <div id="0" class="red button img-rounded"></div>
	        <div id="1" class="blue button img-rounded"></div>
	        <div id="2" class="yellow button img-rounded"></div>
	        <div id="3" class="green button img-rounded"></div>
	    </div>
    </div>
    <script type="text/javascript">
    "use strict";
	    var simonInput = [];
	    var userInput = [];
        var buttons = $('.button');
	    //IMPOSSIBLE MODE
        function startImpossible(){
        	start();
		    function start(){
		    	simonInput = [];
		    	pickRandom();
		    }
		    function pickRandom(){
		    	userInput = [];
		    	var random = Math.floor(Math.random() * 4);
		        simonInput.push(buttons[random].id);
		    	letsPlay();
		    }
			function letsPlay() {
				$('#round').val("Round: " + simonInput.length);
				disable();
	            var i = 0;
	            var intS = setInterval(function () {
	                activeButton(document.getElementById(simonInput[i]));
	                i++;
	                if (i >= simonInput.length) {
	                    clearInterval(intS);
	                    var rotateInt = setInterval(function(){
	                    	rotate();
	                    	clearInterval(rotateInt);
	                    }, 100);
	                    enable();
	                }
	            }, 100);
	        }
	        function activeButton(element) {
	        	$(element).animate({
					opacity: 1,
				}, 50, function() {
					$(element).animate({
						opacity: .5,
					}, 50);
				});
	        }
	        function compareArr() {
			    var sequenceMistake = false;
			    // check if simon and user arrays are the same
			    for (var i = 0; i < userInput.length; i++) {
			    	if (simonInput[i] != userInput[i]) {
				        sequenceMistake = true;
				        break;
			    	}
			    }
			    if (sequenceMistake) {
			      alert('Game Over')
			    } else if (userInput.length == simonInput.length) {
			    	pickRandom();
			    }
			}
	        function userClick() {
	            userInput.push(this.id);
	            activeButton(this);
		        compareArr();
		    }
	        function enable(){
		        $('#0').on('click', userClick);
		        $('#1').on('click', userClick);
		        $('#2').on('click', userClick);
		        $('#3').on('click', userClick);
	        }
	        function disable(){
		        $('#0').off('click');
		        $('#1').off('click');
		        $('#2').off('click');
		        $('#3').off('click');
	        }
	    }
        function startHard(){
        	start();
		    function start(){
		    	simonInput = [];
		    	pickRandom();
		    }
		    function pickRandom(){
		    	userInput = [];
		    	var random = Math.floor(Math.random() * 4);
		        simonInput.push(buttons[random].id);
		    	letsPlay();
		    }
			function letsPlay() {
				$('#round').val("Round: " + simonInput.length);
				disable();
	            var i = 0;
	            var intS = setInterval(function () {
	                activeButton(document.getElementById(simonInput[i]));
	                i++;
	                if (i >= simonInput.length) {
	                    clearInterval(intS);
	                    enable();
	                }
	            }, 300);
	        }
	        function activeButton(element) {
	        	$(element).animate({
					opacity: 1,
				}, 150, function() {
					$(element).animate({
						opacity: .5,
					}, 150);
				});
	        }
	        function compareArr() {
			    var sequenceMistake = false;
			    // check if simon and user arrays are the same
			    for (var i = 0; i < userInput.length; i++) {
			    	if (simonInput[i] != userInput[i]) {
				        sequenceMistake = true;
				        break;
			    	}
			    }
			    if (sequenceMistake) {
			      alert('Game Over')
			    } else if (userInput.length == simonInput.length) {
			    	pickRandom();
			    }
			}
	        function userClick() {
	            userInput.push(this.id);
	            activeButton(this);
		        compareArr();
		    }
	        function enable(){
		        $('#0').on('click', userClick);
		        $('#1').on('click', userClick);
		        $('#2').on('click', userClick);
		        $('#3').on('click', userClick);
	        }
	        function disable(){
		        $('#0').off('click');
		        $('#1').off('click');
		        $('#2').off('click');
		        $('#3').off('click');
	        }
	    }
        function startMedium(){
        	start();
		    function start(){
		    	simonInput = [];
		    	pickRandom();
		    }
		    function pickRandom(){
		    	userInput = [];
		    	var random = Math.floor(Math.random() * 4);
		        simonInput.push(buttons[random].id);
		    	letsPlay();
		    }
			function letsPlay() {
				$('#round').val("Round: " + simonInput.length);
				disable();
	            var i = 0;
	            var intS = setInterval(function () {
	                activeButton(document.getElementById(simonInput[i]));
	                i++;
	                if (i >= simonInput.length) {
	                    clearInterval(intS);
	                    enable();
	                }
	            }, 600);
	        }
	        function activeButton(element) {
	        	$(element).animate({
					opacity: 1,
				}, 300, function() {
					$(element).animate({
						opacity: .5,
					}, 300);
				});
	        }
	        function compareArr() {
			    var sequenceMistake = false;
			    // check if simon and user arrays are the same
			    for (var i = 0; i < userInput.length; i++) {
			    	if (simonInput[i] != userInput[i]) {
				        sequenceMistake = true;
				        break;
			    	}
			    }
			    if (sequenceMistake) {
			      alert('Game Over')
			    } else if (userInput.length == simonInput.length) {
			    	pickRandom();
			    }
			}
	        function userClick() {
	            userInput.push(this.id);
	            activeButton(this);
		        compareArr();
		    }
	        function enable(){
		        $('#0').on('click', userClick);
		        $('#1').on('click', userClick);
		        $('#2').on('click', userClick);
		        $('#3').on('click', userClick);
	        }
	        function disable(){
		        $('#0').off('click');
		        $('#1').off('click');
		        $('#2').off('click');
		        $('#3').off('click');
	        }
	    }
        function startEasy(){
        	start();
		    function start(){
		    	simonInput = [];
		    	pickRandom();
		    }
		    function pickRandom(){
		    	userInput = [];
		    	var random = Math.floor(Math.random() * 4);
		        simonInput.push(buttons[random].id);
		    	letsPlay();
		    }
			function letsPlay() {
				$('#round').val("Round: " + simonInput.length);
				disable();
	            var i = 0;
	            var intS = setInterval(function () {
	                activeButton(document.getElementById(simonInput[i]));
	                i++;
	                if (i >= simonInput.length) {
	                    clearInterval(intS);
	                    enable();
	                }
	            }, 1000);
	        }
	        function activeButton(element) {
	        	$(element).animate({
					opacity: 1,
				}, 500, function() {
					$(element).animate({
						opacity: .5,
					}, 500);
				});
	        }
	        function compareArr() {
			    var sequenceMistake = false;
			    // check if simon and user arrays are the same
			    for (var i = 0; i < userInput.length; i++) {
			    	if (simonInput[i] != userInput[i]) {
				        sequenceMistake = true;
				        break;
			    	}
			    }
			    if (sequenceMistake) {
			      alert('Game Over')
			    } else if (userInput.length == simonInput.length) {
			    	pickRandom();
			    }
			}
	        function userClick() {
	            userInput.push(this.id);
	            activeButton(this);
		        compareArr();
		    }
	        function enable(){
		        $('#0').on('click', userClick);
		        $('#1').on('click', userClick);
		        $('#2').on('click', userClick);
		        $('#3').on('click', userClick);
	        }
	        function disable(){
		        $('#0').off('click');
		        $('#1').off('click');
		        $('#2').off('click');
		        $('#3').off('click');
	        }
	    }
	    var angle = 45;
		function rotate() {
		   angle+=45;
		    $('#rotateThis').css ({
		        'transform': 'rotate(' + angle + 'deg)',
		        '-webkit-transform': 'rotate(' + angle + 'deg)',
		           '-moz-transform': 'rotate(' + angle + 'deg)',
		             '-o-transform': 'rotate(' + angle + 'deg)',
		            '-ms-transform': 'rotate(' + angle + 'deg)'
		    });
		};
		$(document).ready(function(){
		    $(".bounce").hover(function(){
		        $(this).stop().animate({'margin-top': '200px'}, 1500);
		    }, function(){
		        $(this).stop().animate({'margin-top': '50px'}, 1500);
		    });
		});
		 $(document).ready(function(){
	        $(".bounce").mouseenter(function(){
	            $(this).animate({
	                opacity: 0
	            },1);
	        }).mouseleave(function(){
	            $(this).animate({
	                opacity: 1
	            },1);
	        });
	    });
		$('#startEasy').on('click', startEasy);
		$('#startMedium').on('click', startMedium);
		$('#startHard').on('click', startHard);
		$('#startImpossible').on('click', startImpossible);
    </script>

</body>
</html>





